<div>
    <mat-form-field appearance="fill">
      <mat-label>Enter a date range</mat-label>
      <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
        <input matStartDate formControlName="start" placeholder="Start date">
        <input matEndDate formControlName="end" placeholder="End date">
      </mat-date-range-input>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-date-range-picker #picker></mat-date-range-picker>
    
      <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')">Invalid start date</mat-error>
      <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')">Invalid end date</mat-error>
    </mat-form-field>
    <div>
      <button mat-raised-button color="primary" [disabled]="!range.valid" (click)="SubmitRequest()">Generate Report</button>
      <button mat-raised-button (click)="DownloadPDF()">Download PDF</button>
    </div>
  </div>
  
  <div class="sale">
    <div class="row" >   
      <div class="col-8">     
        Company: Exhilaration hair & beauty salon
        <br>
        Contact Details:0785109494
        <br>
        Address:Clifton Avenue Lyttleton Centurion
        <br>
        Date:2020/07/14
        <br>
        Prepared for: Manager
        <br>
      </div>
      <div class="col-4" >
        <img 
        src="assets/images/logo.png"
        alt="logo.png"
        style="width: 150px; height: 150px;"/>
      </div>
    </div>
      <p>------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
      <h3 style="text-align: center;">FINANCIAL REPORT</h3>
      <p>------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
      <strong>PROJECT SUMMARY</strong>
      <p>------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
  
    <div class="bottom">
      <strong>DESCRIPTION</strong>
      <p>The purpose of this report is to track and analyse the business income.
         This report examines resource usage and business performance and the overall
        financial standing of the business. It also helps make informed decsions
        about how to manage the business.</p>
      <p>------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------</p>
      <b>SALE CHART</b>
      <p *ngIf="ichart==null" class="content">******CHART DATA******</p>
      <div class="row">

        <div class="col-6">
          <div *ngIf="ichart" class="reportChart">
            <canvas id="icanvas">{{ichart}}</canvas>
          </div>
        </div>

        <div class="col-6">
          <div *ngIf="echart" class="reportChart">
            <canvas id="ecanvas">{{echart}}</canvas>
          </div>
        </div>

      </div>
      <br><br>
  
      <b>SALE CHART</b>
      <p *ngIf="incomes==null" class="content">******TABLE DATA******</p>
      <div *ngIf="incomes">
        <div class="productsTable">
           <div>
              <table class="table table-bordered" >
              <thead>
                <tr>
                  <th>Income Source</th>
                  <th>Income Amount (R)</th>
                  <th>% of Total</th>
                </tr>
              </thead> 
              <tbody>
                <tr  *ngFor="let x of incomes; let i = index">
                  <td>{{x.Name}}</td>
                  <td>{{x.Total}}</td>
                  <td>{{x.Total/incomeTotal | percent}}</td>
                </tr>
                <tr>
                  <td>Total</td>
                  <td>{{incomeTotal}}</td>
                  <td>100%</td>
                </tr>
              </tbody>  
              </table>
              <br>
           </div>
        </div>

        <div *ngIf="expenses">
          <div class="productsTable">
             <div >
                <table class="table table-bordered">
                <thead>
                  <tr>
                    <th>Income Source</th>
                    <th>Income Amount (R)</th>
                    <th>% of Total</th>
                  </tr>
                </thead> 
                <tbody>
                  <tr *ngFor="let x of expenses; let i = index">
                    <td>{{x.Name}}</td>
                    <td>{{x.Total}}</td>
                    <td>{{x.Total/expenseTotal | percent}}</td>
                  </tr>
                  <tr>
                    <td><strong>Total</strong></td>
                    <td>{{expenseTotal}}</td>
                    <td>100%</td>
                  </tr>
                </tbody>  
                </table>
                <br>
             </div>
          </div>
  
      <strong>CONCLUSION</strong>
      <p>From the details above, we are able to conclude whether or not
        the company is making profit and the manager can determine if
        changes are necessary to generate more income.</p>
    </div>
  </div>
    
    